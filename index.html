<html>
<body>

<canvas id="canvas" style=""></canvas>
<script>

  var init_size = true;
  window.addEventListener('resize', resizeCanvas, false);
  function resizeCanvas() {
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;
    if(init_size){
      init_size = false;
      return;
    }
    for(var i=0; i < agents.length; i++){
      agents[i].canvas_resize();
    }
  }
  
  resizeCanvas();
  var context = canvas.getContext('2d');
  var img;
  var bkImg = "imgs/backing.jpeg";
  var x = 10;
  var y = 10;
  var x_dist = 0;
  var y_dist = 0;
  //img.src = "imgs/0.png"
  var lastAnimationTime = new Date().getTime();
  var timeDelta = 50;  //changes animation speed, higher = slower
  var dataReady = false;
  var animationLoop = [];
  
  function draw(){
    window.requestAnimationFrame(draw);
    console.log("Drawing");
    
    if (dataReady == false){
      console.log("Loading...");
      return;
    }
    
    if( timeDelta + lastAnimationTime > new Date().getTime()){
      return;
    }
    //x_dist = changing x
      //if x_dist = 0, don't play moving animation
    
    
    this.context.drawImage( img, this.curX, this.curY, this.imgWidth, this.imgHeight)
    
    //repainting canvas
    x = x + x_dist;
    bkImg = contextTmageData(x, y, 134, 142);
    
    //idle
    if (x_dist && y_dist == 0){
      //play idle animation
      //animationLoop = all in idle
    }
    
    //movement
    if (x_dist < x && y_dist < y){
      //direction = NorthWest
    }
    if (x_dist < x && y_dist > y){
      //direction = SouthWest
    }
    if (x_dist > x && y_dist < y){
      //direction = NorthEast
    }
    if (x_dist > x && y_dist > y){
      //direction = SouthEast
    }
    if (x_dist < x && y_dist == 0){
      //direction = West
    }
    if (x_dist > x && y_dist == 0){
      //direction = East
    }
    if (x_dist == 0 && y_dist < y){
      //direction = North
    }
    if (x_dist == 0 && y_dist > y){
      //direction  South
    }
    
    //$.getJSON("spriteImgs", function(data){
      //console.log("Loaded");
      //alert("Loaded");
      //dateReady = true;
    //});
    
    
  draw();
  
  
</script>

</body>
</html>
